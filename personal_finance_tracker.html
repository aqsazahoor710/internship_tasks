<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AETHER | Intelligent Finance</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.25/jspdf.plugin.autotable.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Plus Jakarta Sans', 'sans-serif'] },
                    colors: { obsidian: '#020202', neon: '#00f2ff', accent: '#10b981' }
                }
            }
        }
    </script>
    <style>
        body { background-color: #020202; color: #ffffff; overflow-x: hidden; }
        .glass { background: rgba(255, 255, 255, 0.03); border: 1px solid rgba(255, 255, 255, 0.08); border-radius: 12px; }
        .nav-link { color: #a1a1aa; transition: all 0.2s; font-size: 0.875rem; display: flex; align-items: center; gap: 10px; padding: 12px; border-radius: 10px; cursor: pointer; }
        .nav-link:hover { color: #00f2ff; background: rgba(0, 242, 255, 0.05); }
        .nav-active { color: #ffffff; background: rgba(255, 255, 255, 0.05); font-weight: 700; border: 1px solid rgba(255, 255, 255, 0.1); }
        .premium-header { position: sticky; top: 0; z-index: 50; background: rgba(2, 2, 2, 0.7); backdrop-filter: blur(20px); border-bottom: 1px solid rgba(255, 255, 255, 0.05); }
        .page { display: none; }
        .page.active { display: block; animation: slideIn 0.3s ease-out; }
        @keyframes slideIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        #sidebar { transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1); z-index: 1000; }
        @media (max-width: 768px) {
            #sidebar { position: fixed; top: 0; left: 0; bottom: 0; width: 300px; transform: translateX(-100%); background: #050505; padding: 30px; }
            #sidebar.open { transform: translateX(0); box-shadow: 20px 0 50px rgba(0,0,0,0.8); }
        }
    </style>
</head>
<body>

    <header class="premium-header px-6 py-4 md:px-10">
        <div class="max-w-[1600px] mx-auto flex items-center justify-between">
            <div class="flex items-center gap-3">
                <div class="w-10 h-10 bg-gradient-to-br from-neon to-blue-600 rounded-xl flex items-center justify-center shadow-[0_0_20px_rgba(0,242,255,0.3)]"><i data-lucide="layers" class="text-black w-6 h-6"></i></div>
                <div><h1 class="text-xl font-black tracking-tighter leading-none">AETHER<span class="text-neon">.</span></h1><p class="text-[10px] text-white/30 font-bold uppercase tracking-widest">Master OS</p></div>
            </div>
            <button onclick="toggleSidebar()" class="md:hidden p-2 glass"><i data-lucide="menu" class="text-neon"></i></button>
        </div>
    </header>

    <div class="max-w-[1600px] mx-auto p-6 md:p-10">
        <div class="grid grid-cols-1 md:grid-cols-12 gap-10">
            <div id="overlay" onclick="toggleSidebar()" class="fixed inset-0 bg-black/60 hidden z-[999] backdrop-blur-sm"></div>

            <div id="sidebar" class="md:col-span-2 space-y-12">
                <nav class="space-y-2">
                    <div onclick="navigate('dash')" id="l-dash" class="nav-link nav-active"><i data-lucide="layout-grid"></i> Dashboard</div>
                    <div onclick="navigate('tx')" id="l-tx" class="nav-link"><i data-lucide="bar-chart-3"></i> Analytics</div>
                    <div onclick="navigate('cat')" id="l-cat" class="nav-link"><i data-lucide="pie-chart"></i> Segments</div>
                    <div onclick="navigate('budget')" id="l-budget" class="nav-link"><i data-lucide="target"></i> Goals</div>
                    <div onclick="navigate('recur')" id="l-recur" class="nav-link"><i data-lucide="zap"></i> Automation</div>
                </nav>
                <div class="space-y-3">
                    <button onclick="openModal('income')" class="w-full text-left p-4 rounded-xl border border-emerald-500/20 bg-emerald-500/5 text-emerald-400 text-[11px] font-black uppercase flex items-center justify-between">Inflow <i data-lucide="plus"></i></button>
                    <button onclick="openModal('expense')" class="w-full text-left p-4 rounded-xl border border-rose-500/20 bg-rose-500/5 text-rose-400 text-[11px] font-black uppercase flex items-center justify-between">Outflow <i data-lucide="minus"></i></button>
                </div>
            </div>

            <div class="md:col-span-7">
                <div class="glass p-6 md:p-10 min-h-[600px]">
                    
                    <div id="page-dash" class="page active">
                        <h3 class="text-2xl font-bold mb-10">Financial Pulse</h3>
                        <div class="h-[350px]"><canvas id="mainChart"></canvas></div>
                    </div>

                    <div id="page-tx" class="page">
                        <h3 class="text-2xl font-bold italic mb-10">Data Intelligence</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-10">
                            <div class="glass p-6 border-white/5">
                                <p class="text-xs font-bold text-white/30 uppercase mb-6">Spending Breakdown</p>
                                <div class="h-[200px]"><canvas id="spendingPie"></canvas></div>
                            </div>
                            <div class="glass p-6 border-white/5">
                                <p class="text-xs font-bold text-white/30 uppercase mb-4">Top Channels</p>
                                <div id="top-channels" class="space-y-4"></div>
                            </div>
                        </div>
                        <h4 class="text-sm font-black uppercase text-white/20 mb-6 tracking-widest">Master Ledger</h4>
                        <div class="overflow-hidden"><table class="w-full text-left text-sm"><tbody id="tx-list" class="divide-y divide-white/5"></tbody></table></div>
                    </div>

                    <div id="page-recur" class="page">
                        <h3 class="text-2xl font-bold mb-10">Active Cycles</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6" id="subs-grid"></div>
                    </div>

                    <div id="page-cat" class="page"><h3 class="text-2xl font-bold mb-8">Segments</h3><div id="cat-list" class="grid grid-cols-2 gap-4"></div></div>
                    <div id="page-budget" class="page"><h3 class="text-2xl font-bold mb-8">Goals</h3><div id="budget-list" class="space-y-8"></div></div>

                </div>
            </div>

            <div class="md:col-span-3">
                <div class="glass p-8 sticky top-28 text-center">
                    <h4 class="text-xl font-bold mb-8 text-left">Net Worth</h4>
                    <div class="relative flex items-center justify-center mb-10">
                        <canvas id="wealthChart" width="240" height="240"></canvas>
                        <div class="absolute"><p id="total-val" class="text-5xl font-black tracking-tighter">$71K</p><p class="text-[10px] text-white/30 font-bold uppercase tracking-widest">Active Assets</p></div>
                    </div>
                    <div class="bg-white/5 rounded-xl p-4 border border-white/5 text-left">
                        <p class="text-[10px] font-bold text-neon uppercase mb-2">Upcoming Payment</p>
                        <div class="flex justify-between items-center"><span class="text-sm font-bold">Netflix HD</span><span class="text-sm font-black">$15.99</span></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="modal" class="fixed inset-0 z-[2000] hidden bg-black/95 backdrop-blur-md flex items-center justify-center p-6">
        <div class="glass p-10 w-full max-w-sm">
            <h3 class="text-2xl font-bold mb-8">New Entry</h3>
            <input id="f-desc" type="text" placeholder="Description" class="w-full p-4 bg-white/5 border border-white/10 rounded-xl mb-4 text-white outline-none">
            <input id="f-amount" type="number" placeholder="Value 0.00" class="w-full p-4 bg-white/5 border border-white/10 rounded-xl mb-8 text-white outline-none">
            <div class="flex gap-4"><button onclick="closeModal()" class="flex-1 text-white/30 text-xs font-bold uppercase">Discard</button><button onclick="saveTx()" class="flex-1 py-4 bg-neon text-black font-black rounded-xl text-xs uppercase">Confirm</button></div>
            <input type="hidden" id="f-type">
        </div>
    </div>

    <script>
        let txs = JSON.parse(localStorage.getItem('aether_final')) || [
            { id: 1, desc: 'Project Alpha', amount: 4500, type: 'income', date: '10 Jan' },
            { id: 2, desc: 'Amazon Lux', amount: 800, type: 'expense', date: '12 Jan' }
        ];
        
        const subscriptions = [
            { name: 'Netflix Premium', price: 15.99, date: 'Jan 24', progress: 80, color: '#E50914', icon: 'tv' },
            { name: 'Spotify Family', price: 9.99, date: 'Jan 28', progress: 40, color: '#1DB954', icon: 'music' },
            { name: 'OpenAI Plus', price: 20.00, date: 'Feb 02', progress: 15, color: '#00A67E', icon: 'cpu' }
        ];

        let charts = {};

        function toggleSidebar() { 
            document.getElementById('sidebar').classList.toggle('open'); 
            document.getElementById('overlay').classList.toggle('hidden'); 
        }

        function navigate(id) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('nav-active'));
            document.getElementById(`page-${id}`).classList.add('active');
            document.getElementById(`l-${id}`).classList.add('nav-active');
            
            if(window.innerWidth < 768) {
                document.getElementById('sidebar').classList.remove('open');
                document.getElementById('overlay').classList.add('hidden');
            }
            
            if(id === 'tx') initAnalytics();
            if(id === 'recur') renderSubs();
            if(id === 'cat') renderCat();
            if(id === 'budget') renderBudget();
            updateUI();
        }

        function renderSubs() {
            const grid = document.getElementById('subs-grid');
            grid.innerHTML = subscriptions.map(sub => `
                <div class="glass p-6 border-white/5 flex items-center justify-between">
                    <div class="flex items-center gap-4">
                        <div class="w-10 h-10 rounded-lg flex items-center justify-center bg-white/5"><i data-lucide="${sub.icon}" style="color: ${sub.color}"></i></div>
                        <div><h4 class="font-bold text-sm">${sub.name}</h4><p class="text-[10px] text-white/30 uppercase font-bold">${sub.date}</p></div>
                    </div>
                    <p class="font-black">$${sub.price}</p>
                </div>
            `).join('');
            lucide.createIcons();
        }

        function initAnalytics() {
            renderTx();
            const expenses = txs.filter(t => t.type === 'expense');
            const totalExp = expenses.reduce((a, b) => a + b.amount, 0);
            
            const ctxP = document.getElementById('spendingPie').getContext('2d');
            if(charts.pie) charts.pie.destroy();
            charts.pie = new Chart(ctxP, {
                type: 'pie',
                data: {
                    labels: ['Fixed', 'Lifestyle', 'Market'],
                    datasets: [{ data: [50, 30, 20], backgroundColor: ['#00f2ff', '#10b981', '#f43f5e'], borderWidth: 0 }]
                },
                options: { plugins: { legend: { position: 'bottom', labels: { color: '#666', font: { size: 10 } } } } }
            });

            const channels = document.getElementById('top-channels');
            channels.innerHTML = expenses.slice(0,3).map(e => `
                <div class="flex justify-between text-xs font-bold mb-1"><span>${e.desc}</span><span>-$${e.amount}</span></div>
                <div class="w-full h-1 bg-white/5 rounded-full mb-4"><div class="h-full bg-white/20" style="width: 50%"></div></div>
            `).join('');
        }

        function updateUI() {
            let inc = 0, exp = 0;
            txs.forEach(t => { if(t.type === 'income') inc += t.amount; else exp += t.amount; });
            document.getElementById('total-val').innerText = `$${(71 + (inc-exp)/1000).toFixed(0)}K`;
            initMainCharts(inc, exp);
            lucide.createIcons();
        }

        function initMainCharts(inc, exp) {
            const ctxM = document.getElementById('mainChart').getContext('2d');
            if(charts.main) charts.main.destroy();
            charts.main = new Chart(ctxM, {
                type: 'line',
                data: {
                    labels: ['W1', 'W2', 'W3', 'W4', 'W5', 'W6'],
                    datasets: [
                        { data: [3200, 4500, 3900, 5200, 4800, inc || 6000], borderColor: '#00f2ff', tension: 0.4, borderWidth: 3, pointRadius: 0, fill: true, backgroundColor: 'rgba(0, 242, 255, 0.02)' },
                        { data: [1500, 2100, 1800, 2600, 1900, exp || 2200], borderColor: '#f43f5e', tension: 0.4, borderWidth: 2, pointRadius: 0 }
                    ]
                },
                options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, scales: { y: { display: false }, x: { grid: { color: 'rgba(255,255,255,0.02)' }, ticks: { color: '#444' } } } }
            });

            const ctxW = document.getElementById('wealthChart').getContext('2d');
            if(charts.wealth) charts.wealth.destroy();
            charts.wealth = new Chart(ctxW, {
                type: 'doughnut',
                data: { datasets: [{ data: [75, 25], backgroundColor: ['#00f2ff', 'rgba(255,255,255,0.05)'], borderWidth: 0 }] },
                options: { cutout: '92%', plugins: { tooltip: { enabled: false } } }
            });
        }

        function renderTx() {
            document.getElementById('tx-list').innerHTML = txs.map(t => `<tr class="border-b border-white/5"><td class="py-5 text-white/30">${t.date}</td><td class="py-5 font-bold">${t.desc}</td><td class="py-5 text-right font-black ${t.type==='income'?'text-accent':''} text-base">$${t.amount}</td></tr>`).join('');
        }

        function saveTx() {
            const tx = { id: Date.now(), desc: document.getElementById('f-desc').value, amount: parseFloat(document.getElementById('f-amount').value), type: document.getElementById('f-type').value, date: new Date().toLocaleDateString('en-GB', {day:'2-digit', month:'short'}) };
            if(!tx.desc || isNaN(tx.amount)) return;
            txs.unshift(tx);
            localStorage.setItem('aether_final', JSON.stringify(txs));
            closeModal();
            updateUI();
            if(document.getElementById('page-tx').classList.contains('active')) initAnalytics();
        }

        function renderCat() { document.getElementById('cat-list').innerHTML = ['Assets', 'Equity'].map(c => `<div class="p-10 glass border-white/5 text-center"><p class="text-[10px] font-black text-white/20 uppercase mb-2 tracking-widest">${c}</p><p class="text-3xl font-bold">50%</p></div>`).join(''); }
        function renderBudget() { document.getElementById('budget-list').innerHTML = `<div class="space-y-4"><div class="flex justify-between text-xs font-black uppercase"><span>Ops Threshold</span><span class="text-neon">82%</span></div><div class="h-1 bg-white/5 rounded-full overflow-hidden"><div class="h-full bg-neon w-[82%]"></div></div></div>`; }
        function openModal(type) { document.getElementById('modal').classList.remove('hidden'); document.getElementById('f-type').value = type; }
        function closeModal() { document.getElementById('modal').classList.add('hidden'); }
        window.onload = () => { navigate('dash'); };
    </script>
</body>
</html>